@{
    ViewData["Title"] = "Restaurant";
}

<style>
    .restaurant-img {
        /*height: 200px;*/
        overflow: hidden;
        position: relative;
        border-radius: 5px;
    }

        .restaurant-img img {
            height: 300px;
            width: 100%;
            object-fit: cover;
        }

</style>

<!-- Contact Start -->
<div class="container">
    <div class="row px-5 ms-5 pb-5">
        <div class="col">
            <div class="about-item mt-5 mt-lg-0">
                <span class="h5 text-lg text-white">Fit</span>
                <span class="h5 text-lg text-color">Match</span>
                <div class="title-nav">
                    <h2 class="text-white mb-3">
                        一起享受健康餐饗宴<br>
                        <span class="text-white">探索你的營養之旅</span>
                    </h2>
                    <div class="text-white">品味多樣，呵護身心。與我們合作餐廳的精選健康餐，為您帶來健康新饗宴。</div>
                    <button id="showMapButton" class="btn btn-main p-2 px-5 mt-3">
                        <h2>尋找我附近的餐廳</h2><i class="ti-angle-right"></i>
                    </button>
                </div>
            </div>
            @*                     <div class="col-lg-3 mt-lg-4 col-md-6 image-container" style="position: relative; left: 845px;">
            <img src="/images/餐廳/salad2.jpg" alt="" class="img-fluid"
            style="float: right;transform: scale(4.5);width: 130%;margin-left: 200px;margin-top: 50px;">
            </div> *@
        </div>
    </div>
    <div class="col-lg-4" id="restaurants"
         style="display: none; position: relative; top: 90px; background-color: black; left: 110px; ">
        <h3>附近餐廳</h3>
        <div class="restaurant">
            <h4>健康蔬食館</h4>
            <p>地址：123健康路，美食市</p>
            <p>電話：(123) 456-7890</p>
            <p>評分：4.5星</p>
        </div>
        <div class="restaurant">
            <h4>天然飲食店</h4>
            <p>地址：456營養街，美食市</p>
            <p>電話：(123) 456-7891</p>
            <p>評分：4.0星</p>
        </div>
        <div class="restaurant">
            <h4>純素樂園</h4>
            <p>地址：789健身路，美食市</p>
            <p>電話：(123) 456-7892</p>
            <p>評分：4.2星</p>
        </div>
    </div>
    <div class="col-lg-8">
        <div id="map"
             style="width:50%; height:400px; display:none; position: relative; left: -90px; top: 100px;">
        </div>
    </div>
    <!-- Contact End -->

    <div class="row mt-5">
        <div class="col-lg-3 col-sm-12">
            @* 第一區塊 *@
            <img src="/images/餐廳/餐廳1.jpg" alt="" class="img-fluid" style="border-radius:5px;"
                 data-bs-toggle="modal" data-bs-target="#restaurantModal1">
        </div>
        @* 第二區塊 *@
        <div class="col-lg-6 col-sm-12">
            <div class="row pb-4">
                @* 上 *@
                <h1 class="pb-2">
                    開始探索我們的合作餐廳
                </h1>
                <h5>鮮食健康廚房</h5>
                <h5>地址:台南市北區公園路822之6號</h5>
            </div>
            <div class="row">
                @* 下 *@
                <div class="col-lg-4 col-sm-12">
                    <div class="restaurant-img">
                        <img src="/images/餐廳/餐廳3.jpg" alt="" class="img-fluid"
                             data-bs-toggle="modal" data-bs-target="#restaurantModal3">
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12">
                    <div class="restaurant-img">
                        <img src="/images/餐廳/餐廳2.jpg" alt="" class="img-fluid"
                             data-bs-toggle="modal" data-bs-target="#restaurantModal2">
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12">
                    <div class="restaurant-img">
                        <img src="/images/餐廳/餐廳4.jpg" alt="" class="img-fluid"
                             data-bs-toggle="modal" data-bs-target="#restaurantModal4">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-12">
            <!-- 第三區塊搜尋餐廳對話框上 -->
            <div class="d-flex mb-4">
                <input type="text" style="width:248px;" placeholder="搜尋餐廳名稱">
                <div class="btn btn-primary">
                    搜尋
                </div>
            </div>

            <!-- 地區篩選下 -->
            <div class="course-widget border py-4 px-2 mt-5 mt-lg-0">
                <h3 class="mb-3 text-light"><i class="ti-angle-right mr-2"></i>地區篩選</h3>
                <div class="list-group list-group-flush">
                    <select class="p-2">
                        請選擇地區
                        <option value="Taipei">台北</option>
                        <option value="Taichung">台中</option>
                        <option value="Tainan">台南</option>
                        <option value="Kaohsiung">高雄</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 模態框（Modal） -->
        <div class="modal fade" id="restaurantModal1" tabindex="-1" role="dialog"
             aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="background-color: #000;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel" style="color: #f37791;">餐廳詳細資訊</h5>
                        <button type="button" class="close" style="color: #f37791;" data-bs-dismiss="modal"
                                aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body d-flex align-items-center"
                         style="background-color: #000; color: #f37791;">
                        <img src="/images/餐廳/餐廳1.jpg" alt="" class="img-fluid rounded mb-3"
                             style="width: 300px; max-width: 300px; margin-right: 20px;">
                        <div>
                            <h3>樂咖低卡餐盒</h3>
                            <p>
                                地址:台南市永康區中華西街239號
                                <br>
                                電話:06-2012345
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer" style="background-color: #000;">
                        <button type="button" class="btn btn-secondary"
                                style="background-color: #f37791; color: #000;" data-bs-dismiss="modal">
                            關閉
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="restaurantModal2" tabindex="-1" role="dialog"
             aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="background-color: #000;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel" style="color: #f37791;">餐廳詳細資訊</h5>
                        <button type="button" class="close" style="color: #f37791;" data-bs-dismiss="modal"
                                aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body d-flex align-items-center"
                         style="background-color: #000; color: #f37791;">
                        <img src="/images/餐廳/餐廳2.jpg" alt="" class="img-fluid rounded mb-3"
                             style="width: 300px; max-width: 300px; margin-right: 20px;">
                        <div>
                            <h3>小心肝低卡健康餐盒</h3>
                            <p>
                                地址:台南市東區光明街121號
                                <br>
                                電話:06-2012345
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer" style="background-color: #000;">
                        <button type="button" class="btn btn-secondary"
                                style="background-color: #f37791; color: #000;" data-bs-dismiss="modal">
                            關閉
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="restaurantModal3" tabindex="-1" role="dialog"
             aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="background-color: #000;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel" style="color: #f37791;">餐廳詳細資訊</h5>
                        <button type="button" class="close" style="color: #f37791;" data-bs-dismiss="modal"
                                aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body d-flex align-items-center"
                         style="background-color: #000; color: #f37791;">
                        <img src="/images/餐廳/餐廳3.jpg" alt="" class="img-fluid rounded mb-3"
                             style="width: 300px; max-width: 300px; margin-right: 20px;">
                        <div>
                            <h3>初•食健康餐盒</h3>
                            <p>
                                地址:台南市新市區光華街187號
                                <br>
                                電話:06-2012345
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer" style="background-color: #000;">
                        <button type="button" class="btn btn-secondary"
                                style="background-color: #f37791; color: #000;" data-bs-dismiss="modal">
                            關閉
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="restaurantModal4" tabindex="-1" role="dialog"
             aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="background-color: #000;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel" style="color: #f37791;">餐廳詳細資訊</h5>
                        <button type="button" class="close" style="color: #f37791;" data-bs-dismiss="modal"
                                aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body d-flex align-items-center"
                         style="background-color: #000; color: #f37791;">
                        <img src="/images/餐廳/餐廳4.jpg" alt="" class="img-fluid rounded mb-3"
                             style="width: 300px; max-width: 300px; margin-right: 20px;">
                        <div>
                            <h3>鮮食健康廚房</h3>
                            <p>
                                地址:台南市北區公園路822之6號
                                <br>
                                電話:06-2012345
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer" style="background-color: #000;">
                        <button type="button" class="btn btn-secondary"
                                style="background-color: #f37791; color: #000;" data-bs-dismiss="modal">
                            關閉
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="position: relative; text-align: center; margin-top: 80px;">
    <img src="/images/餐廳/salad2.jpg" alt="" class="img-fluid" style="width: 90%;">

    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <h2 class="text-lg text-white" style="margin-top: 30px; margin-left: -550px;">
            品味健身新生活！<br>
            <span class="text-lg text-white"
                  style="text-align: right; display: block;margin-right:-480px;">與我們合作，一起打造健康美食盛宴</span>
        </h2>

        <a href="mailto:your@example.com" class="btn btn-primary btn-lg"
           style="margin-top: 20px; padding: 15px 30px;">
            <h2>聯繫我們</h2>
        </a>
    </div>
</div>


<!-- OpenLayers CSS and JS -->
<link rel="stylesheet" href="https://openlayers.org/en/v6.9.0/css/ol.css" type="text/css">
<script src="https://openlayers.org/en/v6.9.0/build/ol.js" type="text/javascript"></script>
<script>
    var map; // 全局地圖變量

    function showMap() {
        document.getElementById('map').style.display = 'block'; // 顯示地圖容器
        document.getElementById('restaurants').style.display = 'block';// 显示餐厅区域
        if (!map) { // 如果地圖尚未初始化，則創建它
            navigator.geolocation.getCurrentPosition(function (position) {
                var latitude = position.coords.latitude;
                var longitude = position.coords.longitude;

                map = new ol.Map({
                    target: 'map',
                    layers: [
                        new ol.layer.Tile({
                            source: new ol.source.OSM()
                        })
                    ],
                    view: new ol.View({
                        center: ol.proj.fromLonLat([longitude, latitude]),
                        zoom: 15
                    })
                });

                var marker = new ol.Feature({
                    geometry: new ol.geom.Point(ol.proj.fromLonLat([longitude, latitude]))
                });

                var markerStyle = new ol.style.Style({
                    image: new ol.style.Icon({
                        anchor: [0.5, 46],
                        anchorXUnits: 'fraction',
                        anchorYUnits: 'pixels',
                        src: 'https://openlayers.org/en/v4.6.5/examples/data/icon.png'
                    })
                });

                marker.setStyle(markerStyle);

                var vectorLayer = new ol.layer.Vector({
                    source: new ol.source.Vector({
                        features: [marker]
                    })
                });

                map.addLayer(vectorLayer);
            });
        }
    }

    document.getElementById('showMapButton').addEventListener('click', showMap);

</script>

