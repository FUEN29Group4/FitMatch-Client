<script src="https://unpkg.com/vue@3"></script>
<script src="https://unpkg.com/vuex@4"></script>

<style>
    /* comment 照片  尚未用到 要修！*/
    .comment .circle-container {
        width: 300px;
        /* 圓的寬度 */
        height: 300px;
        /* 圓的高度，應與寬度相同以產生完美的圓形 */
        border-radius: 50%;
        overflow: hidden;
        /* 隱藏超出的部分 */
        position: relative;
        /* 使內部的 img 元素能夠使用絕對定位 */
    }
</style>
<div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container text-center py-5">
        <h1 class="display-3 text-white text-uppercase mb-3 animated slideInDown">News</h1>
        <nav aria-label="breadcrumb animated slideInDown">
            <ol class="breadcrumb justify-content-center text-uppercase mb-0">
                <li class="breadcrumb-item"><a class="text-white" href="#">Home</a></li>
                <li class="breadcrumb-item"><a class="text-white" href="#">Pages</a></li>
                <li class="breadcrumb-item text-primary active" aria-current="page">Blog</li>
            </ol>
        </nav>
    </div>
</div>
<!-- Page Header End -->
<!-- Blog Start -->
<!-- 整體blog顏色  改為白色bg-white -->




<div class="container-fluid py-5 wow fadeInUp bg-white" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-8" >
                <!-- Blog Detail Start -->
                <div class="mb-5  bg-white">
                    <img class="img-fluid w-100 rounded mb-5" src="" alt="" id="Article-img" />
                    <img src="" class="img-fluid w-100 rounded mb-5" id="Article-img" />
                    <h1 class="ps-3 mb-3 text-primary titleInput"></h1>
                    <div class="d-flex mb-3">
                 @*        <small class="ps-3 me-3"><i class="far fa-user me-2"></i></small> *@
                        <small class="ps-3 me-3"><i class="far fa-calendar me-2 " id="formattedDateElement"></i></small>
                    </div>

                    <p class="ps-3 pe-3 contentTextInput">
                    </p>
                    @* <p class="ps-3 pe-3 ">
                    在家中鍛煉的好處不言而喻。首先，節省了前往健身房的時間和金錢，使您能更有效地分配時間。其次，您能在私密的環境中運動，無需擔心他人的眼光，讓您更專注和自在。因此，許多健身愛好者開始尋找適合家庭運動的方法。
                    </p>
                    <p class="ps-3 pe-3 ">
                    家庭健身不僅僅是簡單地在客廳做幾下伸展和深蹲。專業教練和健身專家已經為您準備了豐富的家庭運動計劃，涵蓋從有氧運動到力量訓練的各個方面。這些計劃經過科學驗證，能夠幫助您提高心肺功能、增強肌肉力量、改善柔韌性，並達到減重或塑形的目標。
                    </p>
                    <p class="ps-3 pe-3 ">
                    此外，許多教練在社交媒體平台上無私分享家庭運動視頻和指導。他們提供簡單易行的運動指南，並解釋如何正確執行動作。這種無私分享讓健身變得更加平易近人，即使是初學者也能輕鬆上手。您可以在家中跟隨這些指導進行運動，不僅能夠鍛煉身體，還能學習正確的運動技巧，避免受傷。
                    </p>
                    <p class="ps-3 pe-3 ">
                    家庭運動的多樣性也值得一提。您可以選擇有氧運動，如跳繩、快走、跑步等，這些運動有助於提高心肺功能。而對於想要增加肌肉的人來說，使用身體重量進行訓練，如俯臥撐、仰臥起坐、深蹲，可以有效提升肌肉力量。另外，瑜伽和伸展運動也能幫助您改善柔韌性，緩解壓力。
                    </p>
                    <p class="ps-3 pe-3 ">
                    總之，家中也能成為健身房，只要您有動力和一些基本的運動知識。教練的無私分享為我們提供了寶貴的資源，讓我們能夠在舒適的家庭環境中實現健康目標。因此，不管您的日程有多忙碌，都別忘了在家中挪出一些時間，與專業教練一起攜手，踏上健康之路！
                    </p> *@

                </div>
                <!-- Blog Detail End -->
                <!-- Comment List Start -->
           @*      <div class="mb-5 e border border-secondary rounded-3 ">
                    <div class="section-title section-title-sm position-relative pb-3 mb-1">
                        <h5 class="ps-3 pt-3 text-primary">2 則留言</h5>
                    </div>
                    <div class="d-flex mb-2 ps-3 pt-3">
                        <img src="images/會員/user1.jpg" class="img-fluid rounded-circle"
                             style="width: 45px; height: 45px;">
                        <div class="ps-3">
                            <h6><a href="">張建銘</a> <small><i class="text-primary">2023.9.14</i></small></h6>
                            <p class="">我是Candice教練的學生，跟著教練做保證瘦！</p>
                            <button class="btn btn-sm btn-light">回覆</button>
                        </div>
                    </div>
                    <div class="d-flex mb-2 ps-3 pt-3">
                        <img src="images/會員/user4.jpg" class=" img-fluid rounded-circle "
                             style="width: 45px; height: 45px;">
                        <div class="ps-3">
                            <h6><a href="">黃奕臻</a> <small><i class="text-primary">2023.10.1</i></small></h6>
                            <p>想問問教練在家訓練會推薦買哪些運動器材？</p>
                            <button class="btn btn-sm btn-light">回覆</button>
                        </div>
                    </div>
                    <div class="d-flex ms-5 mb-4 ps-3 pt-3 ">
                        <img src="images/教練/team-4.jpg" class="img-fluid rounded-circle"
                             style="width: 45px; height: 45px;">
                        <div class="ps-3">
                            <h6><a href="">Candice</a> <small><i class="text-primary">2023.10.2</i></small></h6>
                            <p>奕臻您好！我推薦妳幾個在家健身的好幫手：啞鈴可以訓練提升肌肉，瑜伽墊舒緩壓力，跳繩強化心肺，彈力帶增加柔韌性，希望有幫助到妳。</p>
                            <button class="btn btn-sm btn-light mb-3">回覆</button>
                        </div>
                    </div>
                </div>
                <!-- Comment List End -->
                <!-- Comment Form Start -->
                <div class="bg-light rounded p-5">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="mb-0">我要留言</h3>
                    </div>
                    <form>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <input type="text" class="form-control bg-white border-0" placeholder="您的名字"
                                       style="height: 55px;">
                            </div>
                            <div class="col-12 col-sm-6">
                                <input type="email" class="form-control bg-white border-0" placeholder="Email"
                                       style="height: 55px;">
                            </div>

                            <div class="col-12">
                                <textarea class="form-control bg-white border-0" rows="5"
                                          placeholder="留言內容"></textarea>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary w-100 py-3" type="submit">送出留言</button>
                            </div>
                        </div>
                    </form>
                </div> *@
                <!-- Comment Form End -->
            </div>

            <!-- Sidebar Start -->
            <div class="col-lg-4">
                <!-- Search Form Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                    <div class="input-group">
                        <input type="text" class="form-control p-3" placeholder="Keyword">
                        <button class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                    </div>
                </div>
                <!-- Search Form End -->
                <!-- Category Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                    <div class="section-title section-title-sm position-relative pb-3 mb-3">
                        <h3 class="mb-0 text-primary">文章分類</h3>
                    </div>
                    <div class="link-animated d-flex flex-column justify-content-start">
                        <a class="h5 fw-semi-bold bg-pink rounded py-2 px-3 mb-2" href="#">
                            <i class="bi bi-arrow-right me-2"></i>健康專欄
                        </a>
                        <a class="h5 fw-semi-bold bg-pink rounded py-2 px-3 mb-2" href="#">
                            <i class="bi bi-arrow-right me-2"></i>新聞快訊
                        </a>
                        <a class="h5 fw-semi-bold bg-pink rounded py-2 px-3 mb-2" href="#">
                            <i class="bi bi-arrow-right me-2"></i>系統公告
                        </a>

                    </div>
                </div>
                <!-- Category End -->
           


            </div>
            <!-- Sidebar End -->
        </div>
    </div>
</div>
<!-- Blog End -->

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>


<script>

    // 获取当前页面的 URL
    var currentUrl = window.location.href;

    // 使用正则表达式从 URL 中提取参数
    var match = currentUrl.match(/[?&]id=(\d+)/);

    // 如果找到匹配的参数
    if (match) {
        // 提取 ArticleID 并转换为整数
        var articleId = parseInt(match[1], 10);

        // 现在，articleId 变量包含了从 URL 中提取的 id 参数的值
        console.log("ArticleID:", articleId);
    } else {
        console.log("无法找到 ArticleID 参数");
    }



        // 第一個 AJAX 請求
        $.ajax({
        url: 'https://localhost:7011/api/Article/' + articleId,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                $('.titleInput').val(data.title);
                $('.contentTextInput').val(data.contentText);
                $('.publicationDateInput').val(data.publicationDate);

                // 假設你已經成功獲取到 Email，存在變數 data.email 中
                var title = data.title;
                $('.titleInput').text(title);
            var contentText = data.contentText;
            $('.contentTextInput').text(contentText);

            var publicationDate = data.publicationDate;
            $('.publicationDateInput').text(publicationDate);

            // 假设 publicationDate 是从 API 获取到的日期字符串
            var publicationDate = "2023-09-03T00:00:00";

            // 使用 JavaScript 的 Date 对象来解析日期字符串
            var dateObject = new Date(publicationDate);

            // 使用 Date 对象的方法来获取日期、月份和年份
            var year = dateObject.getFullYear();
            var month = dateObject.getMonth() + 1; // 月份从0开始，所以要加1
            var day = dateObject.getDate();

            // 格式化日期为所需的形式，例如：2023-09-03
            var formattedDate = year + '-' + (month < 10 ? '0' : '') + month + '-' + (day < 10 ? '0' : '') + day;

            // 现在，formattedDate 变量包含格式化后的日期字符串，不包括时间部分
            console.log("Formatted Date:", formattedDate);


            // 假设 formattedDate 包含格式化后的日期字符串
            var formattedDate = "2023-09-03";

            // 获取表示日期的元素
            var dateElement = document.getElementById("formattedDateElement");

            // 设置元素的文本内容为 formattedDate
            dateElement.textContent = formattedDate;


      
            var Photo = data.photo; //照片
                // 更新會員照片
                var ArticlePhotoElement = document.querySelector("#Article-img");

                if (Photo) {
                    var ArticleImageBase64 = Photo; // 從API獲取的Base64編碼的照片
                    ArticlePhotoElement.src = "data:image/jpeg;base64," + ArticleImageBase64; // 直接將圖像設置為src

                }

                // ... 其他的資料設定
            },
            error: function (error) {
                console.log("Error:", error);
            }
        });


</script>
